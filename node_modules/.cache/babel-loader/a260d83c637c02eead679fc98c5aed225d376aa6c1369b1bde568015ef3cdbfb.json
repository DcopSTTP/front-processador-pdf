{"ast":null,"code":"import _objectSpread from\"/Users/lohuamalima/Desktop/sttp/ocorrencias-de-transito/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{AlertCircleIcon,CheckCircleIcon,SaveIcon,UserIcon}from'lucide-react';import React,{useEffect,useState}from'react';import{perfilStyles}from'./styles';import{buscarPerfilUsuario,atualizarPerfilUsuario}from'../../service/UserService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditarPerfil(_ref){let{onBack}=_ref;const[formData,setFormData]=useState({id:'',nome:'',email:'',genero:'',cpf:''});const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[originalData,setOriginalData]=useState({});useEffect(()=>{carregarDadosUsuario();},[]);const carregarDadosUsuario=async()=>{try{setLoading(true);setError('');const userId=localStorage.getItem('userId')||localStorage.getItem('id');if(!userId){throw new Error('ID do usuário não encontrado. Faça login novamente.');}let dadosUsuario;try{dadosUsuario=await buscarPerfilUsuario(userId);console.log('Dados do perfil carregados da API:',dadosUsuario);}catch(apiError){console.warn('API não disponível, usando dados do localStorage:',apiError.message);const nome=localStorage.getItem('nome')||'';const email=localStorage.getItem('email')||'';const cpf=localStorage.getItem('cpf')||'';if(!nome&&!email){throw new Error('Nenhum dado de perfil encontrado. Faça login novamente.');}dadosUsuario={id:userId,nome,email,cpf,genero:''};}const dadosLimpos={id:String(dadosUsuario.id||userId),nome:String(dadosUsuario.nome||''),email:String(dadosUsuario.email||''),cpf:String(dadosUsuario.cpf||''),genero:String(dadosUsuario.genero||'')};setFormData(dadosLimpos);setOriginalData(dadosLimpos);}catch(error){console.error('Erro ao carregar perfil:',error);setError('Erro ao carregar dados do perfil: '+error.message);}finally{setLoading(false);}};const handleInputChange=(campo,valor)=>{// Garantir que o valor seja sempre uma string\nconst valorSeguro=String(valor||'');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[campo]:valorSeguro}));if(error)setError('');if(success)setSuccess('');};const validarFormulario=()=>{if(!formData){setError('Dados do formulário não encontrados');return false;}if(!formData.nome||!formData.nome.trim()){setError('Nome é obrigatório');return false;}if(!formData.email||!formData.email.trim()){setError('Email é obrigatório');return false;}const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(formData.email.trim())){setError('Email deve ter um formato válido');return false;}if(!formData.genero||!formData.genero.trim()){setError('Selecione o gênero');return false;}return true;};const salvarPerfil=async()=>{if(!validarFormulario())return;setSaving(true);setError('');try{const camposAlterados=obterCamposAlterados();if(Object.keys(camposAlterados).length===0){setError('Nenhuma alteração foi detectada.');setSaving(false);return;}console.log('Enviando apenas os campos alterados:',camposAlterados);try{await atualizarPerfilUsuario(camposAlterados);setOriginalData(formData);setSuccess('Perfil atualizado com sucesso!');setTimeout(()=>setSuccess(''),3000);}catch(apiError){console.warn('API não disponível, atualizando localStorage:',apiError.message);Object.keys(camposAlterados).forEach(campo=>{localStorage.setItem(campo,camposAlterados[campo]);});setOriginalData(formData);setSuccess('Perfil atualizado localmente! (API indisponível)');setTimeout(()=>setSuccess(''),5000);}}catch(error){setError('Erro ao salvar perfil: '+error.message);}finally{setSaving(false);}};const cancelarEdicao=()=>{setFormData(originalData);setError('');setSuccess('');if(onBack){onBack();}};const temAlteracoes=()=>{try{if(!formData||!originalData){return false;}return JSON.stringify(formData)!==JSON.stringify(originalData);}catch(error){console.warn('Erro ao comparar dados:',error);return false;}};const obterCamposAlterados=()=>{const camposAlterados={};const camposEditaveis=['nome','email','genero'];camposEditaveis.forEach(campo=>{if(formData[campo]!==originalData[campo]){if(formData[campo]&&formData[campo].trim()!==''){camposAlterados[campo]=formData[campo].trim();}}});return camposAlterados;};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:perfilStyles.container,children:/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.loadingContainer,children:[/*#__PURE__*/_jsx(\"div\",{style:perfilStyles.spinner}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando dados do perfil...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.container,children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.mainContainer,children:[/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:perfilStyles.title,children:\"Meu Perfil\"}),/*#__PURE__*/_jsx(\"p\",{style:perfilStyles.subtitle,children:\"Gerencie suas informa\\xE7\\xF5es pessoais\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formCard,children:[error&&/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.errorMessage,children:[/*#__PURE__*/_jsx(AlertCircleIcon,{style:{width:'18px',height:'18px',flexShrink:0}}),/*#__PURE__*/_jsx(\"span\",{children:error})]}),success&&/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.successMessage,children:[/*#__PURE__*/_jsx(CheckCircleIcon,{style:{width:'18px',height:'18px',flexShrink:0}}),/*#__PURE__*/_jsx(\"span\",{children:success})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formContent,children:[formData&&formData.cpf&&/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formField,children:[/*#__PURE__*/_jsx(\"label\",{style:perfilStyles.formLabel,children:\"CPF\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.cpf||'',readOnly:true,style:_objectSpread(_objectSpread({},perfilStyles.formInput),{},{backgroundColor:'#f9fafb',color:'#6b7280',cursor:'not-allowed'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formField,children:[/*#__PURE__*/_jsx(\"label\",{style:perfilStyles.formLabel,children:\"Nome Completo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nome||'',onChange:e=>handleInputChange('nome',e.target.value),placeholder:\"Digite seu nome completo\",style:perfilStyles.formInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formField,children:[/*#__PURE__*/_jsx(\"label\",{style:perfilStyles.formLabel,children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email||'',onChange:e=>handleInputChange('email',e.target.value),placeholder:\"Digite seu email\",style:perfilStyles.formInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formField,children:[/*#__PURE__*/_jsx(\"label\",{style:perfilStyles.formLabel,children:\"G\\xEAnero *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.genero||'',onChange:e=>handleInputChange('genero',e.target.value),style:perfilStyles.formSelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione seu g\\xEAnero\"}),/*#__PURE__*/_jsx(\"option\",{value:\"masculino\",children:\"Masculino\"}),/*#__PURE__*/_jsx(\"option\",{value:\"feminino\",children:\"Feminino\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.formActions,children:[temAlteracoes()&&/*#__PURE__*/_jsx(\"div\",{style:perfilStyles.changesIndicator,children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Voc\\xEA tem altera\\xE7\\xF5es n\\xE3o salvas\"})}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.actionButtons,children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelarEdicao,disabled:saving,style:perfilStyles.cancelButton,children:onBack?'Voltar':'Cancelar'}),/*#__PURE__*/_jsx(\"button\",{onClick:salvarPerfil,disabled:saving||!temAlteracoes(),style:perfilStyles.saveButton,children:saving?/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.buttonLoading,children:[/*#__PURE__*/_jsx(\"div\",{style:perfilStyles.buttonSpinner}),/*#__PURE__*/_jsx(\"span\",{children:\"Salvando...\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.buttonContent,children:[/*#__PURE__*/_jsx(SaveIcon,{style:{width:'18px',height:'18px'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Salvar Altera\\xE7\\xF5es\"})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:perfilStyles.infoCard,children:[/*#__PURE__*/_jsx(\"h3\",{style:perfilStyles.infoTitle,children:\"Informa\\xE7\\xF5es Importantes\"}),/*#__PURE__*/_jsxs(\"ul\",{style:perfilStyles.infoList,children:[/*#__PURE__*/_jsx(\"li\",{children:\"Os campos marcados com (*) s\\xE3o obrigat\\xF3rios\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Seu email ser\\xE1 usado para login e notifica\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"li\",{children:\"As altera\\xE7\\xF5es entram em vigor imediatamente ap\\xF3s salvar\"})]})]})]})]});}export default EditarPerfil;","map":{"version":3,"names":["AlertCircleIcon","CheckCircleIcon","SaveIcon","UserIcon","React","useEffect","useState","perfilStyles","buscarPerfilUsuario","atualizarPerfilUsuario","jsx","_jsx","jsxs","_jsxs","EditarPerfil","_ref","onBack","formData","setFormData","id","nome","email","genero","cpf","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","originalData","setOriginalData","carregarDadosUsuario","userId","localStorage","getItem","Error","dadosUsuario","console","log","apiError","warn","message","dadosLimpos","String","handleInputChange","campo","valor","valorSeguro","prev","_objectSpread","validarFormulario","trim","emailRegex","test","salvarPerfil","camposAlterados","obterCamposAlterados","Object","keys","length","setTimeout","forEach","setItem","cancelarEdicao","temAlteracoes","JSON","stringify","camposEditaveis","style","container","children","loadingContainer","spinner","mainContainer","header","title","subtitle","formCard","errorMessage","width","height","flexShrink","successMessage","formContent","formField","formLabel","type","value","readOnly","formInput","backgroundColor","color","cursor","onChange","e","target","placeholder","formSelect","formActions","changesIndicator","actionButtons","onClick","disabled","cancelButton","saveButton","buttonLoading","buttonSpinner","buttonContent","infoCard","infoTitle","infoList"],"sources":["/Users/lohuamalima/Desktop/sttp/ocorrencias-de-transito/src/screens/Perfil/index.jsx"],"sourcesContent":["import { AlertCircleIcon, CheckCircleIcon, SaveIcon, UserIcon } from 'lucide-react';\nimport React, { useEffect, useState } from 'react';\nimport { perfilStyles } from './styles';\nimport { buscarPerfilUsuario, atualizarPerfilUsuario } from '../../service/UserService';\n\nfunction EditarPerfil({ onBack }) {\n  const [formData, setFormData] = useState({\n    id: '',\n    nome: '',\n    email: '',\n    genero: '',\n    cpf: '' \n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [originalData, setOriginalData] = useState({});\n  useEffect(() => {\n    carregarDadosUsuario();\n  }, []);\n\n  const carregarDadosUsuario = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      const userId = localStorage.getItem('userId') || localStorage.getItem('id');\n      \n      if (!userId) {\n        throw new Error('ID do usuário não encontrado. Faça login novamente.');\n      }\n      \n      let dadosUsuario;\n      try {\n        dadosUsuario = await buscarPerfilUsuario(userId);\n        console.log('Dados do perfil carregados da API:', dadosUsuario);\n      } catch (apiError) {\n        console.warn('API não disponível, usando dados do localStorage:', apiError.message);\n        \n        const nome = localStorage.getItem('nome') || '';\n        const email = localStorage.getItem('email') || '';\n        const cpf = localStorage.getItem('cpf') || '';\n        \n        if (!nome && !email) {\n          throw new Error('Nenhum dado de perfil encontrado. Faça login novamente.');\n        }\n        \n        dadosUsuario = {\n          id: userId,\n          nome,\n          email,\n          cpf,\n          genero: '' \n        };\n      }\n      \n      const dadosLimpos = {\n        id: String(dadosUsuario.id || userId),\n        nome: String(dadosUsuario.nome || ''),\n        email: String(dadosUsuario.email || ''),\n        cpf: String(dadosUsuario.cpf || ''),\n        genero: String(dadosUsuario.genero || '')\n      };\n      \n      setFormData(dadosLimpos);\n      setOriginalData(dadosLimpos);\n      \n    } catch (error) {\n      console.error('Erro ao carregar perfil:', error);\n      setError('Erro ao carregar dados do perfil: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (campo, valor) => {\n    // Garantir que o valor seja sempre uma string\n    const valorSeguro = String(valor || '');\n    \n    setFormData(prev => ({\n      ...prev,\n      [campo]: valorSeguro\n    }));\n    \n    if (error) setError('');\n    if (success) setSuccess('');\n  };\n\n  const validarFormulario = () => {\n    if (!formData) {\n      setError('Dados do formulário não encontrados');\n      return false;\n    }\n    if (!formData.nome || !formData.nome.trim()) {\n      setError('Nome é obrigatório');\n      return false;\n    }\n    if (!formData.email || !formData.email.trim()) {\n      setError('Email é obrigatório');\n      return false;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email.trim())) {\n      setError('Email deve ter um formato válido');\n      return false;\n    }\n\n    if (!formData.genero || !formData.genero.trim()) {\n      setError('Selecione o gênero');\n      return false;\n    }\n\n    return true;\n  };\n\n  const salvarPerfil = async () => {\n    if (!validarFormulario()) return;\n\n    setSaving(true);\n    setError('');\n    \n    try {\n      const camposAlterados = obterCamposAlterados();\n      \n      if (Object.keys(camposAlterados).length === 0) {\n        setError('Nenhuma alteração foi detectada.');\n        setSaving(false);\n        return;\n      }\n      \n      console.log('Enviando apenas os campos alterados:', camposAlterados);\n      \n      try {\n        await atualizarPerfilUsuario(camposAlterados);\n        setOriginalData(formData); \n        setSuccess('Perfil atualizado com sucesso!');\n        \n        setTimeout(() => setSuccess(''), 3000);\n        \n      } catch (apiError) {\n        console.warn('API não disponível, atualizando localStorage:', apiError.message);\n        \n        Object.keys(camposAlterados).forEach(campo => {\n          localStorage.setItem(campo, camposAlterados[campo]);\n        });\n        \n        setOriginalData(formData);\n        setSuccess('Perfil atualizado localmente! (API indisponível)');\n        setTimeout(() => setSuccess(''), 5000);\n      }\n      \n    } catch (error) {\n      setError('Erro ao salvar perfil: ' + error.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const cancelarEdicao = () => {\n    setFormData(originalData);\n    setError('');\n    setSuccess('');\n    if (onBack) {\n      onBack();\n    }\n  };\n\n  const temAlteracoes = () => {\n    try {\n      if (!formData || !originalData) {\n        return false;\n      }\n      return JSON.stringify(formData) !== JSON.stringify(originalData);\n    } catch (error) {\n      console.warn('Erro ao comparar dados:', error);\n      return false;\n    }\n  };\n\n  const obterCamposAlterados = () => {\n    const camposAlterados = {};\n    \n    const camposEditaveis = ['nome', 'email', 'genero'];\n    \n    camposEditaveis.forEach(campo => {\n      if (formData[campo] !== originalData[campo]) {\n        if (formData[campo] && formData[campo].trim() !== '') {\n          camposAlterados[campo] = formData[campo].trim();\n        }\n      }\n    });\n    \n    return camposAlterados;\n  };\n\n\n  if (loading) {\n    return (\n      <div style={perfilStyles.container}>\n        <div style={perfilStyles.loadingContainer}>\n          <div style={perfilStyles.spinner}></div>\n          <p>Carregando dados do perfil...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={perfilStyles.container}>\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n      \n      <div style={perfilStyles.mainContainer}>\n        <div style={perfilStyles.header}>\n          <h1 style={perfilStyles.title}>Meu Perfil</h1>\n          <p style={perfilStyles.subtitle}>Gerencie suas informações pessoais</p>\n        </div>\n\n        <div style={perfilStyles.formCard}>\n          {error && (\n            <div style={perfilStyles.errorMessage}>\n              <AlertCircleIcon style={{ width: '18px', height: '18px', flexShrink: 0 }} />\n              <span>{error}</span>\n            </div>\n          )}\n\n          {success && (\n            <div style={perfilStyles.successMessage}>\n              <CheckCircleIcon style={{ width: '18px', height: '18px', flexShrink: 0 }} />\n              <span>{success}</span>\n            </div>\n          )}\n\n          <div style={perfilStyles.formContent}>\n            \n            {formData && formData.cpf && (\n              <div style={perfilStyles.formField}>\n                <label style={perfilStyles.formLabel}>\n                  CPF\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.cpf || ''}\n                  readOnly\n                  style={{\n                    ...perfilStyles.formInput,\n                    backgroundColor: '#f9fafb',\n                    color: '#6b7280',\n                    cursor: 'not-allowed'\n                  }}\n                />\n              </div>\n            )}\n\n            {/* Campo Nome */}\n            <div style={perfilStyles.formField}>\n              <label style={perfilStyles.formLabel}>\n                Nome Completo *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.nome || ''}\n                onChange={(e) => handleInputChange('nome', e.target.value)}\n                placeholder=\"Digite seu nome completo\"\n                style={perfilStyles.formInput}\n              />\n            </div>\n\n            <div style={perfilStyles.formField}>\n              <label style={perfilStyles.formLabel}>\n                Email *\n              </label>\n              <input\n                type=\"email\"\n                value={formData.email || ''}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                placeholder=\"Digite seu email\"\n                style={perfilStyles.formInput}\n              />\n            </div>\n\n            <div style={perfilStyles.formField}>\n              <label style={perfilStyles.formLabel}>\n                Gênero *\n              </label>\n              <select\n                value={formData.genero || ''}\n                onChange={(e) => handleInputChange('genero', e.target.value)}\n                style={perfilStyles.formSelect}\n              >\n                <option value=\"\">Selecione seu gênero</option>\n                <option value=\"masculino\">Masculino</option>\n                <option value=\"feminino\">Feminino</option>\n              </select>\n            </div>\n\n          </div>\n\n          <div style={perfilStyles.formActions}>\n            {temAlteracoes() && (\n              <div style={perfilStyles.changesIndicator}>\n                <span>• Você tem alterações não salvas</span>\n              </div>\n            )}\n\n            <div style={perfilStyles.actionButtons}>\n              <button\n                onClick={cancelarEdicao}\n                disabled={saving}\n                style={perfilStyles.cancelButton}\n              >\n                {onBack ? 'Voltar' : 'Cancelar'}\n              </button>\n\n              <button\n                onClick={salvarPerfil}\n                disabled={saving || !temAlteracoes()}\n                style={perfilStyles.saveButton}\n              >\n                {saving ? (\n                  <div style={perfilStyles.buttonLoading}>\n                    <div style={perfilStyles.buttonSpinner}></div>\n                    <span>Salvando...</span>\n                  </div>\n                ) : (\n                  <div style={perfilStyles.buttonContent}>\n                    <SaveIcon style={{ width: '18px', height: '18px' }} />\n                    <span>Salvar Alterações</span>\n                  </div>\n                )}\n              </button>\n            </div>\n          </div>\n\n        </div>\n\n        <div style={perfilStyles.infoCard}>\n          <h3 style={perfilStyles.infoTitle}>Informações Importantes</h3>\n          <ul style={perfilStyles.infoList}>\n            <li>Os campos marcados com (*) são obrigatórios</li>\n            <li>Seu email será usado para login e notificações</li>\n            <li>As alterações entram em vigor imediatamente após salvar</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EditarPerfil;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}